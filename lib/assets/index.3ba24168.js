import{c as e,a as t,u as n,b as r,t as i,d as l,s,o as d,i as o,S as a,M as c,e as u,f as v,F as g,g as f,h as m,r as h}from"./vendor.af7d462d.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const _=r();function p(n){var r,i;const[l,s]=e({loading:n.loading||!1,name:n.name||"Untitled",slides:n.slides||[],length:(null==(r=n.slides)?void 0:r.length)||0,startTime:n.startTime||new Date,currentSlide:(null==(i=n.slides)?void 0:i[0])||null}),d=[l,{setLoading(e){s("loading",(()=>e))},setSlides(e){s("slides",(()=>e)),s("length",(()=>(null==e?void 0:e.length)||0))},setPresentation(e){s("name",(()=>e.name)),s("slides",(()=>e.slides)),s("length",(()=>{var t;return(null==(t=e.slides)?void 0:t.length)||0})),s("loading",(()=>!1))},setCurrentSlide(e){s("currentSlide",(()=>({...e})))},nextSlide(){var e;let t;const n=(null==(e=l.slides)?void 0:e.length)||0;if(n>0)if(l.currentSlide){const e=l.slides.findIndex((e=>e.fileName===l.currentSlide.fileName))+1;e<=n-1&&(t=l.slides[e])}else t=l.slides[0];t&&s("currentSlide",(()=>({...t})))},previousSlide(){var e;let t;if(((null==(e=l.slides)?void 0:e.length)||0)>0)if(l.currentSlide){const e=l.slides.findIndex((e=>e.fileName===l.currentSlide.fileName))-1;e>=0&&(t=l.slides[e])}else t=l.slides[0];t&&s("currentSlide",(()=>({...t})))}}];return t(_.Provider,{value:d,get children(){return n.children}})}const N=()=>n(_);var S="_App_ofxl2_1";var $="_ImageProjector_cll3a_1";const b=i("<img>"),y=e=>(()=>{const t=b.cloneNode(!0);return l((n=>{const r=$,i=e.slide.fileName,l=e.slide.fileName;return r!==n._v$&&(t.className=n._v$=r),i!==n._v$2&&s(t,"src",n._v$2=i),l!==n._v$3&&s(t,"title",n._v$3=l),n}),{_v$:void 0,_v$2:void 0,_v$3:void 0}),t})();var k="_Projector_1otqb_1";const w=i("<div></div>"),L=()=>{const[e,{nextSlide:n,previousSlide:r}]=N();let i;return d((()=>{v.bind(["l","f5","f11"],(e=>{i.requestFullscreen(),e.preventDefault()})),v.bind("right",(()=>n())),v.bind("left",(()=>r()))})),(()=>{const n=w.cloneNode(!0);return"function"==typeof i?i(n):i=n,o(n,t(u,{get when(){return!e.loading&&e.currentSlide},get children(){return t(a,{get fallback(){return()=>e.currentSlide.fileName},get children(){return t(c,{get when(){return e.currentSlide.type.startsWith("image/")},get children(){return t(y,{get slide(){return e.currentSlide}})}})}})}})),l((()=>n.className=k)),n})()};var P="_Navigator_1h5j2_1";const j=i("<div><div></div></div>"),x=i("<div>Loading</div>"),I=()=>{const[e,{}]=N();return(()=>{const n=j.cloneNode(!0),r=n.firstChild;return o(r,t(g,{get each(){return e.slides},get fallback(){return x.cloneNode(!0)},children:e=>t(A,{slide:e})})),l((()=>n.className=P)),n})()};var q="_Slide_ibc21_9",C="_active_ibc21_39";const D=i("<img>"),W=i('<button type="button"></button>'),A=e=>{const[n,{setCurrentSlide:r}]=N(),{fileName:i,type:d}=e.slide;return(()=>{const u=W.cloneNode(!0);return u.$$click=r,u.$$clickData=e.slide,o(u,t(a,{get fallback(){return i},get children(){return t(c,{get when(){return d.startsWith("image/")},get children(){const e=D.cloneNode(!0);return s(e,"src",i),s(e,"title",i),e}})}})),l((e=>{var t;const r=q,l={[C]:(null==(t=null==n?void 0:n.currentSlide)?void 0:t.fileName)===i};return r!==e._v$&&(u.className=e._v$=r),e._v$2=m(u,l,e._v$2),e}),{_v$:void 0,_v$2:void 0}),u})()};f(["click"]);const E=i("<div></div>"),F=()=>{const[,{setPresentation:e}]=N();return d((async()=>{const t=(await(await fetch("/api/data")).json()).map((e=>(e=>{const t=e;return t.supported=["image/","video/","audio/"].some((e=>t.type.startsWith(e))),t})(e)));e({name:"test",loading:!1,length:t.length,slides:t,currentSlide:null==t?void 0:t[0]})})),(()=>{const e=E.cloneNode(!0);return o(e,t(I,{}),null),o(e,t(L,{}),null),l((()=>e.className=S)),e})()};h((()=>t(p,{get children(){return t(F,{})}})),document.getElementById("root"));
