import{c as e,a as t,u as r,b as n,t as i,i as s,S as l,M as o,d,s as a,e as c,F as u,f as g,o as m,r as v}from"./vendor.98acadcd.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const h=n();function f(r){var n,i;const[s,l]=e({loading:r.loading||!1,name:r.name||"Untitled",slides:r.slides||[],length:(null==(n=r.slides)?void 0:n.length)||0,startTime:r.startTime||new Date,currentSlide:(null==(i=r.slides)?void 0:i[0])||null}),o=[s,{setLoading(e){l("loading",(()=>e))},setSlides(e){l("slides",(()=>e)),l("length",(()=>(null==e?void 0:e.length)||0))},setPresentation(e){l("name",(()=>e.name)),l("slides",(()=>e.slides)),l("length",(()=>{var t;return(null==(t=e.slides)?void 0:t.length)||0})),l("loading",(()=>!1))},setCurrentSlide(e){l("currentSlide",(()=>e))}}];return t(h.Provider,{value:o,get children(){return r.children}})}const p=()=>r(h);var N="_App_ofxl2_1";var _="_Projector_1s5d8_1";const y=i("<img>"),S=i("<div></div>"),b=()=>{const[e,{}]=p();return(()=>{const r=S.cloneNode(!0);return s(r,t(c,{get when(){return!e.loading&&e.currentSlide},get children(){return t(l,{get fallback(){return()=>e.currentSlide.fileName},get children(){return t(o,{get when(){return e.currentSlide.type.startsWith("image/")},get children(){const t=y.cloneNode(!0);return d((r=>{const n=e.currentSlide.fileName,i=e.currentSlide.fileName;return n!==r._v$&&a(t,"src",r._v$=n),i!==r._v$2&&a(t,"title",r._v$2=i),r}),{_v$:void 0,_v$2:void 0}),t}})}})}})),d((()=>r.className=_)),r})()};var $="_Navigator_1h5j2_1";const k=i("<div><div></div></div>"),w=i("<div>Loading</div>"),L=()=>{const[e,{}]=p();return(()=>{const r=k.cloneNode(!0),n=r.firstChild;return s(n,t(u,{get each(){return e.slides},get fallback(){return w.cloneNode(!0)},children:e=>t(W,{slide:e})})),d((()=>r.className=$)),r})()};var P="_Slide_2r6bs_9";const j=i("<img>"),C=i('<button type="button"></button>'),W=e=>{const[,{setCurrentSlide:r}]=p(),{fileName:n,type:i}=e.slide;return(()=>{const c=C.cloneNode(!0);return c.$$click=r,c.$$clickData=e.slide,s(c,t(l,{get fallback(){return n},get children(){return t(o,{get when(){return i.startsWith("image/")},get children(){const e=j.cloneNode(!0);return a(e,"src",n),a(e,"title",n),e}})}})),d((()=>c.className=P)),c})()};g(["click"]);const A=i("<div></div>"),D=()=>{const[e,{setPresentation:r}]=p();return m((async()=>{const e=(await(await fetch("/api/data")).json()).map((e=>(e=>{const t=e;return t.supported=["image/","video/","audio/"].some((e=>t.type.startsWith(e))),t})(e)));r({name:"test",loading:!1,length:e.length,slides:e,currentSlide:null==e?void 0:e[0]})})),(()=>{const e=A.cloneNode(!0);return s(e,t(L,{}),null),s(e,t(b,{}),null),d((()=>e.className=N)),e})()};v((()=>t(f,{get children(){return t(D,{})}})),document.getElementById("root"));
