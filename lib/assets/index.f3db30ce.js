import{c as e,a as t,u as n,b as i,t as r,i as o,d as l,s,o as d,S as a,M as c,e as u,f as v,F as m,g,h,j as p,m as _,l as f,k as $,n as N,r as y}from"./vendor.6e900f3e.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const I=i();function b(n){var i,r;const[o,l]=e({presentationId:n.presentationId||(new Date).getTime(),loading:n.loading||!1,name:n.name||"Untitled",slides:n.slides||[],length:(null==(i=n.slides)?void 0:i.length)||0,startTime:n.startTime||new Date,currentSlide:(null==(r=n.slides)?void 0:r[0])||null,timeline:n.timeline||{position:0,length:0,entries:[]}}),s=e=>{if(!o.timeline.length)return;const t=o.timeline.length-1;e>t?e=t:e<0&&(e=0);const n=o.timeline.entries[e].slideId;l({timeline:{...o.timeline,position:e},currentSlide:{...o.slides.find((e=>e.fileName===n))}})},d=[o,{setLoading(e){l("loading",(()=>e))},setPresentation(e){var t;l({name:e.name,slides:e.slides,length:(null==(t=e.slides)?void 0:t.length)||0,loading:!1,timeline:e.timeline})},setCurrentSlide:e=>s(o.timeline.entries.findIndex((t=>t.slideId===e.fileName))),next:()=>s(o.timeline.position+1),back:()=>s(o.timeline.position-1),jumpTo:e=>s(e)}];return t(I.Provider,{value:d,get children(){return n.children}})}const w=()=>n(I);var S,k,j,T,x,P="_app_1mbxy_1";(k=S||(S={})).Markdown="text/markdown",k.PlainText="text/plain",(T=j||(j={})).Image="image/",T.Video="video/",T.Audio="audio/",T.Text="text/",T.Application="application/",(x||(x={})).Url=".url";var L="_metaProjector_1613e_1";const C=r("<div><div><h1></h1><ul><li>Type: </li></ul></div></div>"),M=e=>(()=>{const t=C.cloneNode(!0),n=t.firstChild.firstChild,i=n.nextSibling.firstChild;return i.firstChild,o(n,(()=>e.slide.fileName)),o(i,(()=>e.slide.type),null),l((()=>t.className=L)),t})();var W="_imageProjector_n0b78_1";const E=r("<img>"),A=e=>(()=>{const t=E.cloneNode(!0);return l((n=>{const i=W,r=e.slide.fileName+`?instance=${e.presentationId}`,o=e.slide.fileName;return i!==n._v$&&(t.className=n._v$=i),r!==n._v$2&&s(t,"src",n._v$2=r),o!==n._v$3&&s(t,"title",n._v$3=o),n}),{_v$:void 0,_v$2:void 0,_v$3:void 0}),t})();var U="_htmlProjector_9vcza_1";const V=r("<div><div></div></div>"),q=e=>(()=>{const t=V.cloneNode(!0),n=t.firstChild;return l((i=>{const r=U,o=e.slide.data;return r!==i._v$&&(t.className=i._v$=r),o!==i._v$2&&(n.innerHTML=i._v$2=o),i}),{_v$:void 0,_v$2:void 0}),t})();var D="_frameProjector_1c2p2_1";const H=r('<div><a target="_blank"></a></div>'),F=e=>(()=>{const t=H.cloneNode(!0),n=t.firstChild;return o(n,(()=>e.slide.data)),l((i=>{const r=D,o=e.slide.data;return r!==i._v$&&(t.className=i._v$=r),o!==i._v$2&&s(n,"href",i._v$2=o),i}),{_v$:void 0,_v$2:void 0}),t})();var O={videoProjector:"_videoProjector_qrblg_1"};const R=r('<video controls="" width="100%" height="100%"><source></video>'),z=e=>(()=>{const t=R.cloneNode(!0),n=t.firstChild;return l((i=>{const r=O.VideoProjector,o=e.slide.fileName+`?instance=${e.presentationId}`,l=e.slide.type;return r!==i._v$&&(t.className=i._v$=r),o!==i._v$2&&s(n,"src",i._v$2=o),l!==i._v$3&&s(n,"type",i._v$3=l),i}),{_v$:void 0,_v$2:void 0,_v$3:void 0}),t})();var B="_projector_g0qhh_1";const K=r("<div></div>"),G=()=>{const[e,{next:n,back:i,jumpTo:r}]=w();let s;return d((()=>{console.log("Projector mounted"),v.bind(["l","f5","f11"],(e=>{s.requestFullscreen(),e.preventDefault()})),v.bind("right",(()=>n())),v.bind("left",(()=>i())),v.bind("ctrl+right",(()=>r(e.timeline.length-1))),v.bind("ctrl+left",(()=>r(0)))})),(()=>{const n=K.cloneNode(!0);return"function"==typeof s?s(n):s=n,o(n,t(u,{get when(){return!e.loading&&e.currentSlide},get children(){return t(a,{get fallback(){return t(M,{get presentationId(){return e.presentationId},get slide(){return e.currentSlide}})},get children(){return[t(c,{get when(){return e.currentSlide.type.startsWith(j.Image)},get children(){return t(A,{get presentationId(){return e.presentationId},get slide(){return e.currentSlide}})}}),t(c,{get when(){return e.currentSlide.type===S.Markdown},get children(){return t(q,{get presentationId(){return e.presentationId},get slide(){return e.currentSlide}})}}),t(c,{get when(){return e.currentSlide.fileExtension.endsWith(x.Url)},get children(){return t(F,{get presentationId(){return e.presentationId},get slide(){return e.currentSlide}})}}),t(c,{get when(){return e.currentSlide.type.startsWith(j.Video)},get children(){return t(z,{get presentationId(){return e.presentationId},get slide(){return e.currentSlide}})}})]}})}})),l((()=>n.className=B)),n})()};var J="_navigator_1h5j2_1";const Q=r("<div></div>"),X=r("<div>Loading</div>"),Y=()=>{const[e]=w();return(()=>{const n=Q.cloneNode(!0);return o(n,t(m,{get each(){return e.slides},get fallback(){return X.cloneNode(!0)},children:n=>t(re,{get presentationId(){return e.presentationId},slide:n})})),l((()=>n.className=J)),n})()};var Z="_slide_1942o_9",ee="_slide__thumbnail_1942o_51",te="_active_1942o_87";const ne=r('<img loading="eager">'),ie=r('<button type="button"><div></div></button>'),re=({slide:e})=>{const[n,{setCurrentSlide:i}]=w();let r;return h((()=>{var t;(null==(t=null==n?void 0:n.currentSlide)?void 0:t.fileName)===e.fileName&&r&&r.scrollIntoViewIfNeeded()})),(()=>{const d=ie.cloneNode(!0),u=d.firstChild;d.$$click=i,d.$$clickData=e;return"function"==typeof r?r(d):r=d,o(u,t(a,{get fallback(){return"ðŸ“Š"},get children(){return[t(c,{get when(){return e.type.startsWith(j.Image)},get children(){const t=ne.cloneNode(!0);return l((()=>s(t,"src",e.fileName+`?instance=${n.presentationId}`))),t}}),t(c,{get when(){return e.type.startsWith(j.Video)},children:"ðŸŽ¬"}),t(c,{get when(){return e.type==S.PlainText},children:"ðŸ“‘"}),t(c,{get when(){return e.type.startsWith(j.Application)},children:"ðŸ’¾"})]}})),l((t=>{var i;const r=Z,o={[te]:(null==(i=null==n?void 0:n.currentSlide)?void 0:i.fileName)===e.fileName},l=e.fileName,a=ee;return r!==t._v$&&(d.className=t._v$=r),t._v$2=p(d,o,t._v$2),l!==t._v$3&&s(d,"title",t._v$3=l),a!==t._v$4&&(u.className=t._v$4=a),t}),{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0}),d})()};g(["click"]);const oe=e=>{const t=document.createElement("div");return t.innerHTML=e,t.querySelectorAll("code").forEach(f.highlightElement),t.innerHTML},le=e=>{let t=e;const n=$.parse(e).InternetShortcut;return(null==n?void 0:n.URL)&&(t=n.URL),t},se=async()=>{const e=await fetch("/api/data").then((e=>e.json())),t=e.files.map((e=>(e=>{const t=e;if(t.supported=[j.Image,j.Video,j.Audio].some((e=>t.type.startsWith(e))),t.data){const e=[];switch(t.type){case S.Markdown:e.push(_),e.push(oe)}t.fileExtension.endsWith(x.Url)&&e.push(le),e.length>0&&(t.data=e.reduce(((e,t)=>t(e)),t.data))}return t})(e))),n=(e=>{const t=(null==e?void 0:e.map((e=>({position:0,slideId:e.fileName,length:1}))))||[];return{position:0,entries:t,length:t.length}})(t);return[{name:"test",loading:!1,length:t.length,slides:t,timeline:n},e.commands]},de=r("<div></div>"),ae=()=>{const[e,{setPresentation:n,jumpTo:i}]=w();return d((async()=>{const t=async(e=!1,t=!1)=>{const[r,o]=await se();n(r),t&&o.skip&&o.skip>0?i(o.skip):e&&i(0)},r=N();let o;r.on("data",(n=>{n.reload&&(o&&clearTimeout(o),o=setTimeout((async()=>{let n;if(e.timeline&&(n={...e.timeline.entries[e.timeline.position]}),await t(),n){const t=e.timeline.entries.filter((e=>e.slideId===n.slideId)),r=t.find((e=>e.position===n.position))||(null==t?void 0:t[0]);r&&i(e.timeline.entries.indexOf(r))}}),200))})).on("disconnect",(()=>r.connect())).connect(),await t(!0,!0)})),(()=>{const e=de.cloneNode(!0);return o(e,t(Y,{}),null),o(e,t(G,{}),null),l((()=>e.className=P)),e})()};y((()=>t(b,{get children(){return t(ae,{})}})),document.getElementById("root"));
