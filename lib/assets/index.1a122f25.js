import{c as e,a as t,u as n,b as r,t as i,o as l,i as s,S as d,M as o,d as c,s as a,e as u,f as v,F as g,g as f,h as m,r as h}from"./vendor.af7d462d.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const p=r();function _(n){var r,i;const[l,s]=e({loading:n.loading||!1,name:n.name||"Untitled",slides:n.slides||[],length:(null==(r=n.slides)?void 0:r.length)||0,startTime:n.startTime||new Date,currentSlide:(null==(i=n.slides)?void 0:i[0])||null}),d=[l,{setLoading(e){s("loading",(()=>e))},setSlides(e){s("slides",(()=>e)),s("length",(()=>(null==e?void 0:e.length)||0))},setPresentation(e){s("name",(()=>e.name)),s("slides",(()=>e.slides)),s("length",(()=>{var t;return(null==(t=e.slides)?void 0:t.length)||0})),s("loading",(()=>!1))},setCurrentSlide(e){s("currentSlide",(()=>({...e})))},nextSlide(){var e;let t;const n=(null==(e=l.slides)?void 0:e.length)||0;if(n>0)if(l.currentSlide){const e=l.slides.findIndex((e=>e.fileName===l.currentSlide.fileName))+1;e<=n-1&&(t=l.slides[e])}else t=l.slides[0];t&&s("currentSlide",(()=>({...t})))},previousSlide(){var e;let t;if(((null==(e=l.slides)?void 0:e.length)||0)>0)if(l.currentSlide){const e=l.slides.findIndex((e=>e.fileName===l.currentSlide.fileName))-1;e>=0&&(t=l.slides[e])}else t=l.slides[0];t&&s("currentSlide",(()=>({...t})))}}];return t(p.Provider,{value:d,get children(){return n.children}})}const S=()=>n(p);var N="_App_ofxl2_1";var y="_Projector_1s5d8_1";const $=i("<img>"),b=i("<div></div>"),k=()=>{const[e,{nextSlide:n,previousSlide:r}]=S();let i;return l((()=>{v.bind(["l","f5"],((e,t)=>{i.requestFullscreen(),e.preventDefault()})),v.bind("right",(()=>n())),v.bind("left",(()=>r()))})),(()=>{const n=b.cloneNode(!0);return"function"==typeof i?i(n):i=n,s(n,t(u,{get when(){return!e.loading&&e.currentSlide},get children(){return t(d,{get fallback(){return()=>e.currentSlide.fileName},get children(){return t(o,{get when(){return e.currentSlide.type.startsWith("image/")},get children(){const t=$.cloneNode(!0);return c((n=>{const r=e.currentSlide.fileName,i=e.currentSlide.fileName;return r!==n._v$&&a(t,"src",n._v$=r),i!==n._v$2&&a(t,"title",n._v$2=i),n}),{_v$:void 0,_v$2:void 0}),t}})}})}})),c((()=>n.className=y)),n})()};var w="_Navigator_1h5j2_1";const L=i("<div><div></div></div>"),x=i("<div>Loading</div>"),P=()=>{const[e,{}]=S();return(()=>{const n=L.cloneNode(!0),r=n.firstChild;return s(r,t(g,{get each(){return e.slides},get fallback(){return x.cloneNode(!0)},children:e=>t(W,{slide:e})})),c((()=>n.className=w)),n})()};var j="_Slide_ibc21_9",I="_active_ibc21_39";const C=i("<img>"),D=i('<button type="button"></button>'),W=e=>{const[n,{setCurrentSlide:r}]=S(),{fileName:i,type:l}=e.slide;return(()=>{const u=D.cloneNode(!0);return u.$$click=r,u.$$clickData=e.slide,s(u,t(d,{get fallback(){return i},get children(){return t(o,{get when(){return l.startsWith("image/")},get children(){const e=C.cloneNode(!0);return a(e,"src",i),a(e,"title",i),e}})}})),c((e=>{var t;const r=j,l={[I]:(null==(t=null==n?void 0:n.currentSlide)?void 0:t.fileName)===i};return r!==e._v$&&(u.className=e._v$=r),e._v$2=m(u,l,e._v$2),e}),{_v$:void 0,_v$2:void 0}),u})()};f(["click"]);const q=i("<div></div>"),A=()=>{const[,{setPresentation:e}]=S();return l((async()=>{const t=(await(await fetch("/api/data")).json()).map((e=>(e=>{const t=e;return t.supported=["image/","video/","audio/"].some((e=>t.type.startsWith(e))),t})(e)));e({name:"test",loading:!1,length:t.length,slides:t,currentSlide:null==t?void 0:t[0]})})),(()=>{const e=q.cloneNode(!0);return s(e,t(P,{}),null),s(e,t(k,{}),null),c((()=>e.className=N)),e})()};h((()=>t(_,{get children(){return t(A,{})}})),document.getElementById("root"));
