import{c as e,a as t,u as n,b as i,t as r,i as l,d as s,s as d,o,S as a,M as c,e as u,f as v,F as f,g as m,h as g,j as h,r as _}from"./vendor.26b695af.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const p=i();function N(n){var i,r;const[l,s]=e({loading:n.loading||!1,name:n.name||"Untitled",slides:n.slides||[],length:(null==(i=n.slides)?void 0:i.length)||0,startTime:n.startTime||new Date,currentSlide:(null==(r=n.slides)?void 0:r[0])||null}),d=[l,{setLoading(e){s("loading",(()=>e))},setSlides(e){s("slides",(()=>e)),s("length",(()=>(null==e?void 0:e.length)||0))},setPresentation(e){s("name",(()=>e.name)),s("slides",(()=>e.slides)),s("length",(()=>{var t;return(null==(t=e.slides)?void 0:t.length)||0})),s("loading",(()=>!1))},setCurrentSlide(e){s("currentSlide",(()=>({...e})))},nextSlide(){var e;let t;const n=(null==(e=l.slides)?void 0:e.length)||0;if(n>0)if(l.currentSlide){const e=l.slides.findIndex((e=>e.fileName===l.currentSlide.fileName))+1;e<=n-1&&(t=l.slides[e])}else t=l.slides[0];t&&s("currentSlide",(()=>({...t})))},previousSlide(){var e;let t;if(((null==(e=l.slides)?void 0:e.length)||0)>0)if(l.currentSlide){const e=l.slides.findIndex((e=>e.fileName===l.currentSlide.fileName))-1;e>=0&&(t=l.slides[e])}else t=l.slides[0];t&&s("currentSlide",(()=>({...t})))}}];return t(p.Provider,{value:d,get children(){return n.children}})}const S=()=>n(p);var $="_app_1mbxy_1";var y="_metaProjector_7hxmz_1";const b=r("<div><div><h1></h1><ul><li>Type: </li></ul></div></div>"),w=({slide:e})=>(()=>{const t=b.cloneNode(!0),n=t.firstChild.firstChild,i=n.nextSibling.firstChild;return i.firstChild,l(n,(()=>e.fileName)),l(i,(()=>e.type),null),s((()=>t.className=y)),t})();var k="_imageProjector_cll2f_1";const C=r("<img>"),x=({slide:e})=>(()=>{const t=C.cloneNode(!0);return s((n=>{const i=k,r=e.fileName,l=e.fileName;return i!==n._v$&&(t.className=n._v$=i),r!==n._v$2&&d(t,"src",n._v$2=r),l!==n._v$3&&d(t,"title",n._v$3=l),n}),{_v$:void 0,_v$2:void 0,_v$3:void 0}),t})();var j="_markdownProjector_13qaz_1";const P=r("<div><h1></h1><ul><li>Type: </li><li>Data: </li></ul></div>"),L=({slide:e})=>(()=>{const t=P.cloneNode(!0),n=t.firstChild,i=n.nextSibling.firstChild;i.firstChild;const r=i.nextSibling;return r.firstChild,l(n,(()=>e.fileName)),l(i,(()=>e.type),null),l(r,(()=>e.data),null),s((()=>t.className=j)),t})();var T="_projector_185ok_1";const D=r("<div></div>"),I=()=>{const[e,{nextSlide:n,previousSlide:i}]=S();let r;return o((()=>{v.bind(["l","f5","f11"],(e=>{r.requestFullscreen(),e.preventDefault()})),v.bind("right",(()=>n())),v.bind("left",(()=>i()))})),(()=>{const n=D.cloneNode(!0);return"function"==typeof r?r(n):r=n,l(n,t(u,{get when(){return!e.loading&&e.currentSlide},get children(){return t(a,{get fallback(){return t(w,{get slide(){return e.currentSlide}})},get children(){return[t(c,{get when(){return e.currentSlide.type.startsWith("image/")},get children(){return t(x,{get slide(){return e.currentSlide}})}}),t(c,{get when(){return"text/markdown"===e.currentSlide.type},get children(){return t(L,{get slide(){return e.currentSlide}})}})]}})}})),s((()=>n.className=T)),n})()};var q="_navigator_1h5j2_1";const W=r("<div></div>"),z=r("<div>Loading</div>"),E=()=>{const[e]=S();return(()=>{const n=W.cloneNode(!0);return l(n,t(f,{get each(){return e.slides},get fallback(){return z.cloneNode(!0)},children:e=>t(O,{slide:e})})),s((()=>n.className=q)),n})()};var F="_slide_1942o_9",M="_slide__thumbnail_1942o_51",A="_active_1942o_87";const B=r("<img>"),K=r('<button type="button"><div></div></button>'),O=({slide:e})=>{const[n,{setCurrentSlide:i}]=S();return(()=>{const r=K.cloneNode(!0),o=r.firstChild;return r.$$click=i,r.$$clickData=e,l(o,t(a,{get fallback(){return"ðŸ“Š"},get children(){return t(c,{get when(){return e.type.startsWith("image/")},get children(){const t=B.cloneNode(!0);return s((()=>d(t,"src",e.fileName))),t}})}})),s((t=>{var i;const l=F,s={[A]:(null==(i=null==n?void 0:n.currentSlide)?void 0:i.fileName)===e.fileName},a=e.fileName,c=M;return l!==t._v$&&(r.className=t._v$=l),t._v$2=g(r,s,t._v$2),a!==t._v$3&&d(r,"title",t._v$3=a),c!==t._v$4&&(o.className=t._v$4=c),t}),{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0}),r})()};m(["click"]);const U=r("<div></div>"),G=()=>{const[,{setPresentation:e}]=S();return o((async()=>{const t=async()=>{const t=(await(await fetch("/api/data")).json()).map((e=>(e=>{const t=e;return t.supported=["image/","video/","audio/"].some((e=>t.type.startsWith(e))),t})(e)));e({name:"test",loading:!1,length:t.length,slides:t,currentSlide:null==t?void 0:t[0]})},n=h();let i;n.on("data",(e=>{e.reload&&(i&&clearTimeout(i),i=setTimeout((async()=>{await t()}),200))})).on("disconnect",(()=>n.connect())).connect(),await t()})),(()=>{const e=U.cloneNode(!0);return l(e,t(E,{}),null),l(e,t(I,{}),null),s((()=>e.className=$)),e})()};_((()=>t(N,{get children(){return t(G,{})}})),document.getElementById("root"));
