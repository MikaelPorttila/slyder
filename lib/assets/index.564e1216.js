import{c as e,a as t,u as n,b as i,t as r,i as l,d as o,s,o as d,l as a,m as c,S as u,M as v,e as m,f as g,F as f,g as _,h,j as p,k as N,r as $}from"./vendor.f3f9bac2.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const y=i();function b(n){var i,r;const[l,o]=e({presentationId:n.presentationId||(new Date).getTime(),loading:n.loading||!1,name:n.name||"Untitled",slides:n.slides||[],length:(null==(i=n.slides)?void 0:i.length)||0,startTime:n.startTime||new Date,currentSlide:(null==(r=n.slides)?void 0:r[0])||null,timeline:n.timeline||{position:0,length:0,entries:[]}}),s=e=>{if(!l.timeline.length)return;const t=l.timeline.length-1;e>t?e=t:e<0&&(e=0);const n=l.timeline.entries[e].slideId;o({timeline:{...l.timeline,position:e},currentSlide:{...l.slides.find((e=>e.fileName===n))}})},d=[l,{setLoading(e){o("loading",(()=>e))},setPresentation(e){var t;o({name:e.name,slides:e.slides,length:(null==(t=e.slides)?void 0:t.length)||0,loading:!1,timeline:e.timeline})},setCurrentSlide:e=>s(l.timeline.entries.findIndex((t=>t.slideId===e.fileName))),next:()=>s(l.timeline.position+1),back:()=>s(l.timeline.position-1),jumpTo:e=>s(e)}];return t(y.Provider,{value:d,get children(){return n.children}})}const I=()=>n(y);var S="_app_1mbxy_1";var k="_metaProjector_7hxmz_1";const w=r("<div><div><h1></h1><ul><li>Type: </li></ul></div></div>"),j=e=>(()=>{const t=w.cloneNode(!0),n=t.firstChild.firstChild,i=n.nextSibling.firstChild;return i.firstChild,l(n,(()=>e.slide.fileName)),l(i,(()=>e.slide.type),null),o((()=>t.className=k)),t})();var T="_imageProjector_cll2f_1";const C=r("<img>"),P=e=>(()=>{const t=C.cloneNode(!0);return o((n=>{const i=T,r=e.slide.fileName+`?instance=${e.presentationId}`,l=e.slide.fileName;return i!==n._v$&&(t.className=n._v$=i),r!==n._v$2&&s(t,"src",n._v$2=r),l!==n._v$3&&s(t,"title",n._v$3=l),n}),{_v$:void 0,_v$2:void 0,_v$3:void 0}),t})();var x="_markdownProjector_1mr0s_1";const L=r("<div><div></div></div>"),D=e=>{let t;return d((()=>{t.querySelectorAll("code").forEach(a.highlightElement)})),(()=>{const n=L.cloneNode(!0),i=n.firstChild;return"function"==typeof t?t(n):t=n,o((t=>{const r=x,l=c(e.slide.data);return r!==t._v$&&(n.className=t._v$=r),l!==t._v$2&&(i.innerHTML=t._v$2=l),t}),{_v$:void 0,_v$2:void 0}),n})()};var E="_projector_185ok_1";const q=r("<div></div>"),M=()=>{const[e,{next:n,back:i,jumpTo:r}]=I();let s;return d((()=>{console.log("Projector mounted"),g.bind(["l","f5","f11"],(e=>{s.requestFullscreen(),e.preventDefault()})),g.bind("right",(()=>n())),g.bind("left",(()=>i())),g.bind("ctrl+right",(()=>r(e.timeline.length-1))),g.bind("ctrl+left",(()=>r(0)))})),(()=>{const n=q.cloneNode(!0);return"function"==typeof s?s(n):s=n,l(n,t(m,{get when(){return!e.loading&&e.currentSlide},get children(){return t(u,{get fallback(){return t(j,{get presentationId(){return e.presentationId},get slide(){return e.currentSlide}})},get children(){return[t(v,{get when(){return e.currentSlide.type.startsWith("image/")},get children(){return t(P,{get presentationId(){return e.presentationId},get slide(){return e.currentSlide}})}}),t(v,{get when(){return"text/markdown"===e.currentSlide.type},get children(){return t(D,{get presentationId(){return e.presentationId},get slide(){return e.currentSlide}})}})]}})}})),o((()=>n.className=E)),n})()};var W="_navigator_1h5j2_1";const A=r("<div></div>"),F=r("<div>Loading</div>"),z=()=>{const[e]=I();return(()=>{const n=A.cloneNode(!0);return l(n,t(f,{get each(){return e.slides},get fallback(){return F.cloneNode(!0)},children:n=>t(V,{get presentationId(){return e.presentationId},slide:n})})),o((()=>n.className=W)),n})()};var B="_slide_1942o_9",H="_slide__thumbnail_1942o_51",K="_active_1942o_87";const O=r('<img loading="eager">'),U=r('<button type="button"><div></div></button>'),V=({slide:e})=>{const[n,{setCurrentSlide:i}]=I();let r;return h((()=>{var t;(null==(t=null==n?void 0:n.currentSlide)?void 0:t.fileName)===e.fileName&&r&&r.scrollIntoViewIfNeeded()})),(()=>{const d=U.cloneNode(!0),a=d.firstChild;d.$$click=i,d.$$clickData=e;return"function"==typeof r?r(d):r=d,l(a,t(u,{get fallback(){return"ðŸ“Š"},get children(){return t(v,{get when(){return e.type.startsWith("image/")},get children(){const t=O.cloneNode(!0);return o((()=>s(t,"src",e.fileName+`?instance=${n.presentationId}`))),t}})}})),o((t=>{var i;const r=B,l={[K]:(null==(i=null==n?void 0:n.currentSlide)?void 0:i.fileName)===e.fileName},o=e.fileName,c=H;return r!==t._v$&&(d.className=t._v$=r),t._v$2=p(d,l,t._v$2),o!==t._v$3&&s(d,"title",t._v$3=o),c!==t._v$4&&(a.className=t._v$4=c),t}),{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0}),d})()};_(["click"]);const G=r("<div></div>"),J=()=>{const[,{setPresentation:e,jumpTo:n}]=I();return d((async()=>{const t=async()=>{const t=(await(await fetch("/api/data")).json()).map((e=>(e=>{const t=e;return t.supported=["image/","video/","audio/"].some((e=>t.type.startsWith(e))),t})(e))),i=(e=>{const t=(null==e?void 0:e.map((e=>({position:0,slideId:e.fileName,length:1}))))||[];return{position:0,entries:t,length:t.length}})(t);e({name:"test",loading:!1,length:t.length,slides:t,timeline:i}),n(0),console.table(i.entries)},i=N();let r;i.on("data",(e=>{e.reload&&(r&&clearTimeout(r),r=setTimeout((async()=>await t()),200))})).on("disconnect",(()=>i.connect())).connect(),await t()})),(()=>{const e=G.cloneNode(!0);return l(e,t(z,{}),null),l(e,t(M,{}),null),o((()=>e.className=S)),e})()};$((()=>t(b,{get children(){return t(J,{})}})),document.getElementById("root"));
